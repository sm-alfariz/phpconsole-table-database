<?php
/*

╱╱╭━╮╱╱╱╭━━━╮╱╱╱╱╱╱╱╭╮╱╱╱╭╮╱╭╮╱╱╱╱╱╱╱╱╱╱╱╱╱╱╭╮╱╭━╮
╱╭╯╭╯╱╱╱┃╭━━╯╱╱╱╱╱╱╱┃┃╱╱╱┃┃╱┃┃╱╱╱╱╱╱╱╱╱╱╱╱╱╱┃┃╱╰╮╰╮
╭╯╭╯╱╭━━┫╰━━┳━━┳━╮╭━╯┣╮╱╱┃╰━╯┣━━┳━┳┳╮╱╭┳━━┳━╯┣╮╱╰╮╰╮
┃┃┃╱╱┃┃━┫╭━━┫┃━┫╭╮┫╭╮┣╋━━┫╭━╮┃╭╮┃╭╋┫┃╱┃┃╭╮┃╭╮┣┫╱╱┃┃┃
┃┃┃╱╱┃┃━┫┃╱╱┃┃━┫┃┃┃╰╯┃┣━━┫┃╱┃┃╭╮┃┃┃┃╰━╯┃╭╮┃╰╯┃┃╱╱┃┃┃
╰╮╰╮╱╰━━┻╯╱╱╰━━┻╯╰┻━━┻╯╱╱╰╯╱╰┻╯╰┻╯╰┻━╮╭┻╯╰┻━━┻╯╱╭╯╭╯
╱╰╮╰╮╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╭━╯┃╱╱╱╱╱╱╱╱╭╯╭╯
╱╱╰━╯╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╱╰━━╯╱╱╱╱╱╱╱╱╰━╯

╔═══╗╔═╗───────╔╗───╔╗─╔╗──────────────╔╗
║╔══╝║╔╝───────║║───║║─║║──────────────║║
║╚══╦╝╚╦══╦═╗╔═╝╠╗──║╚═╝╠══╦═╦╦╗─╔╦══╦═╝╠╗
║╔══╩╗╔╣║═╣╔╗╣╔╗╠╬══╣╔═╗║╔╗║╔╬╣║─║║╔╗║╔╗╠╣
║╚══╗║║║║═╣║║║╚╝║╠══╣║─║║╔╗║║║║╚═╝║╔╗║╚╝║║
╚═══╝╚╝╚══╩╝╚╩══╩╝──╚╝─╚╩╝╚╩╝╚╩═╗╔╩╝╚╩══╩╝
───samarinda, 31 Agustus 2016─╔═╝║
──────────────────────────────╚══╝


╔═══╗╔═╗───────╔╗───╔╗─╔╗──╔═══╦╗──╔╗───╔╗
║╔══╝║╔╝───────║║───║║─║║──║╔═╗║╚╗╔╝║───║║
║╚══╦╝╚╦══╦═╗╔═╝╠╗──║╚═╝╠══╣╚═╝╠╗╚╝╔╩═╦═╝╠╗
║╔══╩╗╔╣║═╣╔╗╣╔╗╠╬══╣╔═╗║╔╗║╔╗╔╬╬╗╔╣╔╗║╔╗╠╣
║╚══╗║║║║═╣║║║╚╝║╠══╣║─║║╔╗║║║╚╣║║║║╔╗║╚╝║║
╚═══╝╚╝╚══╩╝╚╩══╩╝──╚╝─╚╩╝╚╩╝╚═╩╝╚╝╚╝╚╩══╩╝

 _____   __              ______  _   _   _               _ __   __       ______  __
|  ___| / _|             |  _  \(_) | | | |             (_)\ \ / /       |  _  \/  |
| |__  | |_   ___  _ __  | | | | _  | |_| |  __ _  _ __  _  \ V /   __ _ | | | |`| |
|  __| |  _| / _ \| '_ \ | | | || | |  _  | / _` || '__|| |  \ /   / _` || | | | | |
| |___ | |  |  __/| | | || |/ / | | | | | || (_| || |   | |  | |  | (_| || |/ / _| |_
\____/ |_|   \___||_| |_||___/  |_| \_| |_/ \__,_||_|   |_|  \_/   \__,_||___/  \___/

  _____  __            ____  _   _   _            ___   __    ____  _
 | ____|/ _| ___ _ __ |  _ \(_) | | | | __ _ _ __(_) \ / /_ _|  _ \/ |
 |  _| | |_ / _ \ '_ \| | | | | | |_| |/ _` | '__| |\ V / _` | | | | |
 | |___|  _|  __/ | | | |_| | | |  _  | (_| | |  | | | | (_| | |_| | |
 |_____|_|  \___|_| |_|____/|_| |_| |_|\__,_|_|  |_| |_|\__,_|____/|_|



███████╗███████╗███████╗███╗   ██╗██████╗ ██╗    ██╗  ██╗ █████╗ ██████╗ ██╗██╗   ██╗ █████╗ ██████╗  ██╗
██╔════╝██╔════╝██╔════╝████╗  ██║██╔══██╗██║    ██║  ██║██╔══██╗██╔══██╗██║╚██╗ ██╔╝██╔══██╗██╔══██╗███║
█████╗  █████╗  █████╗  ██╔██╗ ██║██║  ██║██║    ███████║███████║██████╔╝██║ ╚████╔╝ ███████║██║  ██║╚██║
██╔══╝  ██╔══╝  ██╔══╝  ██║╚██╗██║██║  ██║██║    ██╔══██║██╔══██║██╔══██╗██║  ╚██╔╝  ██╔══██║██║  ██║ ██║
███████╗██║     ███████╗██║ ╚████║██████╔╝██║    ██║  ██║██║  ██║██║  ██║██║   ██║   ██║  ██║██████╔╝ ██║
╚══════╝╚═╝     ╚══════╝╚═╝  ╚═══╝╚═════╝ ╚═╝    ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝   ╚═╝   ╚═╝  ╚═╝╚═════╝  ╚═╝

 _____ __               _ _   _   _            _                 _ _
|  ___/ _|             | (_) | | | |          (_)               | (_)
| |__| |_ ___ _ __   __| |_  | |_| | __ _ _ __ _ _   _  __ _  __| |_
|  __|  _/ _ \ '_ \ / _` | | |  _  |/ _` | '__| | | | |/ _` |/ _` | |
| |__| ||  __/ | | | (_| | | | | | | (_| | |  | | |_| | (_| | (_| | |
\____/_| \___|_| |_|\__,_|_| \_| |_/\__,_|_|  |_|\__, |\__,_|\__,_|_|
                                                  __/ |
                                                 |___/

 ________   ______                          __  __        __    __                      __                            __  __
/        | /      \                        /  |/  |      /  |  /  |                    /  |                          /  |/  |
$$$$$$$$/ /$$$$$$  |_____   _______    ____$$ |$$/       $$ |  $$ |  ______    ______  $$/  __    __   ______    ____$$ |$$/
$$ |__    $$ |_ $$/      \ /       \  /    $$ |/  |      $$ |__$$ | /      \  /      \ /  |/  |  /  | /      \  /    $$ |/  |
$$    |   $$   | /$$$$$$  |$$$$$$$  |/$$$$$$$ |$$ |      $$    $$ | $$$$$$  |/$$$$$$  |$$ |$$ |  $$ | $$$$$$  |/$$$$$$$ |$$ |
$$$$$/    $$$$/  $$    $$ |$$ |  $$ |$$ |  $$ |$$ |      $$$$$$$$ | /    $$ |$$ |  $$/ $$ |$$ |  $$ | /    $$ |$$ |  $$ |$$ |
$$ |_____ $$ |   $$$$$$$$/ $$ |  $$ |$$ \__$$ |$$ |      $$ |  $$ |/$$$$$$$ |$$ |      $$ |$$ \__$$ |/$$$$$$$ |$$ \__$$ |$$ |
$$       |$$ |   $$       |$$ |  $$ |$$    $$ |$$ |      $$ |  $$ |$$    $$ |$$ |      $$ |$$    $$ |$$    $$ |$$    $$ |$$ |
$$$$$$$$/ $$/     $$$$$$$/ $$/   $$/  $$$$$$$/ $$/       $$/   $$/  $$$$$$$/ $$/       $$/  $$$$$$$ | $$$$$$$/  $$$$$$$/ $$/
                                                                                           /  \__$$ |
                                                                                           $$    $$/
                                                                                            $$$$$$/

*/

namespace Cli\Command;
use Symfony\Component\Console\Command\Command;
use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Output\OutputInterface;
use Symfony\Component\Console\Helper\Table;
use Symfony\Component\Console\Helper\TableStyle;
use ModelsDB\Users;
use ModelsDB\Contact;
class DataCommand extends Command
{
  protected function configure()
  {
      $this->setName('data:users')->setDescription('Nampilin data Users');
  }

  protected function execute(InputInterface $input, OutputInterface $output)
  {
      $style = new TableStyle();
      $style->setVerticalBorderChar('<fg=yellow>|</>')->setHorizontalBorderChar('<fg=yellow>-</>');
      $users = Contact::select('first_name','last_name','email','phone')->get(['first_name','last_name','sss']);
      if(count($users)){
        echo "Contats :"."\n";
        $row = array();
        $header = array();
        foreach ($users as $key => $value) {
            $row[] = array($value->first_name.' '.$value->last_name, $value->email,$value->phone);
        }
        $header[] = array('Nama','Email','Phone');
        $table = new Table($output);
        $table->setHeaders($header)->setRows($row);
        $table->setStyle($style)->render();
      }else {
        echo $output->writeln('<comment>'."\t".'Tidak ada Datanya!</comment>');
      }
  }
}
